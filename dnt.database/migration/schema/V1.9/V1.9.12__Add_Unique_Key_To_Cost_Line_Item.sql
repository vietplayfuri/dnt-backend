/* This script is created on 11 Dec */

/* We have 8 impacted costs - PRO0003770V0001, PRO0004469V0004, PRO0004746V0001, PRO0004056S0002, PRO0003141V0001, PRO0004141V0001, PRO0003830U0001, PRO0143V0000015 */


--#0 -Start update PRO0003770V0001 - Reindex cost Id: 53c79a89-da4c-48bd-b1f9-f4b460537c2c
--#0 -Start update Revision: 3eb50d58-b674-4edd-9bf4-1fec474d436d
delete from cost_line_item where id in ('0850e22d-d62d-469b-b308-8b8fbfcc6aa6', '02b395be-2a62-4de1-ad11-40139e4125c3', '1d5fa31a-003b-4bbf-b852-b8deb0fbf394', '297be23f-64c8-495a-ac26-0f2a4d2de544', '651691f0-f561-4cbc-9741-58fe35affc52', '0125ab2c-0ae2-4208-905b-ff62c56373c8', '6ab1a3d4-c852-4a00-9593-51d8fcc3a77d', '961ac0d0-6ed5-4679-acce-1186ebc4a67b', 'c09ff94d-0995-49e0-bdb7-f114b9273fb4', 'c87ed863-e554-414b-a573-9f396fa6b2f9', 'edac3739-9434-4903-be70-e90bdfab8fc7', 'fac4fc3b-5eb1-4bc4-8437-29b320d868bc', 'fdb08a63-f65d-49eb-a47a-ac4e100ec381');
--End #0 - Update revision: 3eb50d58-b674-4edd-9bf4-1fec474d436d
-----------------------------------------------------------------------------------------------------------


--#1 -Start update Revision: fd6b01ed-a03c-40f6-840a-13fcf52d40ec
delete from cost_line_item where id in ('eadcfce5-b12e-40bb-81a5-ad66ba895053', '7601f776-adb8-4281-8cb2-8ae5152346b5', '444398de-fda1-4e7a-9cf4-141d92a6e0f1', '17d93ac3-1b4d-44db-8393-60cede88f0e4', '1549ab48-1090-461c-9e72-257841c393e1', '672a6f05-3a68-4e13-9e01-59a0eb6a2cb5', '424aa85f-3b17-4675-bbaf-2b7eceac057a', '3268ecfe-677d-4cb0-ab62-9f61db2129c7', '18e6a530-4394-4fa1-aec6-a95ea5733631', '1a53065b-c5d9-4349-93f5-4ea2e5ed9702', '0e8f7ab0-bf43-48b2-a0fd-929df0a0a8ab', 'cf9c69a8-0cf1-4d3b-b134-eb4d3a25a5ce', 'bb9aa833-fcfc-4765-8c11-96b9a685e9c5');
--End #1 - Update revision: fd6b01ed-a03c-40f6-840a-13fcf52d40ec
-----------------------------------------------------------------------------------------------------------


--End #0 - Update cost: PRO0003770V0001


-----------------------------------------------------------------------------------------------------------


--#1 -Start update PRO0004469V0004 - Reindex cost Id: 73d49f33-1bef-4c3e-9501-a3dcc545312d
--SPB-2387
--End #1 - Update cost: PRO0004469V0004


-----------------------------------------------------------------------------------------------------------


--#2 -Start update PRO0004746V0001 - Reindex cost Id: 764723c8-c03f-4403-94b0-17cbbb07e3b5
--#0 -Start update Revision: 52af6331-3302-4792-9730-f10e79f3b44c
delete from cost_line_item where id in ('02757b3b-9600-4208-9714-f2ca849e0a00', '1988cb1c-efa8-4560-8783-333479115d61', '978a612e-dcbd-42a8-aef5-17aade37168a', '27f37f92-5d31-4c01-91cc-ad83c4acd55a', '2dbe5174-2928-4fb1-b4b1-cd3e5d8dbe1c', '4c20069c-95e1-4ff9-b95b-78f0409d107c', '60f240af-925b-4085-86fd-84b4ebe2b999', '7ad32694-648a-46bb-a984-df7cce2082cf', '7f131e73-d8ee-472f-9547-f1d7f4eb722f', '9ac6e012-5b3c-4a41-9af7-96a66c501ae4', 'a2ca2c93-c756-49c8-a2d6-c6a5aba53722', 'bf664c1d-ef51-42fa-b299-bf1a95fd68ae', 'c9de771e-ba58-49c7-85d9-b418418075e6', 'cb7e0455-10c2-4f1e-a36e-2a86ccc43a0a', 'cc032285-15b5-4a3e-830d-3edec89d6081', 'dfeec0b9-4ab9-4428-a42f-0164c1c6d4b5', 'f4ccd8f9-ae71-4198-9546-f902a486dda0', '1c1707e1-17c3-41b6-b96c-314c644e28b5', '3736cfae-cd60-42b8-9d9a-2851850a0d20', '8310e7be-0357-44a1-9a8f-81e3cc958645', '8dfe4c60-3e81-4fa5-8d0d-f09576924d0a', '95233d87-59c4-4616-979c-6a74aaed5299', '96775b69-121f-457c-a384-40369242a3c7', 'cabe3386-1ba8-4447-a94b-fc8d4f380049', 'f60e2e0f-d132-4d52-8864-60258298c89e');
--End #0 - Update revision: 52af6331-3302-4792-9730-f10e79f3b44c
-----------------------------------------------------------------------------------------------------------


--#1 -Start update Revision: 6388b691-bc94-4fec-893f-8b24fbd298c9
delete from cost_line_item where id in ('8c4f5c91-cac3-4a91-9e61-73067a79d74e', '34f5ae65-df7f-487b-8c76-bf1d857075db', '216e89f4-398b-4930-bbcc-596614f660f3', '04f8fb57-1e64-45a2-9191-c6460b626053', '1427f140-8167-4fa2-862a-b1517600c59c', '35fd3ef2-1eeb-4c5f-a6b9-09afa69121d8', '49212c65-a10e-41d1-8309-189fb7490a4c', '4ab8e11c-59fa-4b5a-91f1-ccdda0f456ee', '59df2cb6-8916-4df4-8954-f10c2a1dbef0', '748c8f7e-6ed9-444b-bdbe-af05c1b5f446', '74c79f75-c5a2-48df-b8fd-0d5b1e718357', '77a1312c-4e0f-4a82-bf7d-f556f7f40944', '87250fc2-8acd-436f-b756-96cd18638f75', '8b45dfde-5aba-468d-bebc-608a3b791a16', '97c30107-7023-4ac3-b81c-dc5d08f500a7', '9c3ec74f-75e0-4a11-a0f5-e5b1ad808fe8', 'a61fe7a1-a72e-47e8-91f2-adb3e6e66cc9', 'c69047b2-d44e-4572-8c1c-78956a9167cc', 'ca21d247-1aa1-4a95-8d87-9e295b0a7bb2', 'ca3b7509-92fb-43ee-b963-3d07abec3926', 'e3c36b36-b0ae-43e9-9938-218132b19899', 'f314b288-f344-439f-8d53-0c04c88c3652', 'fdc5ee12-b98c-46f9-bb4f-b1ffb5a20d2e', '170739b3-75bb-4972-8f63-25b8c34ce3f0', 'e9d6501c-1bf5-468c-9a76-1efdaed59363');
--End #1 - Update revision: 6388b691-bc94-4fec-893f-8b24fbd298c9
-----------------------------------------------------------------------------------------------------------


--#2 -Start update Revision: b56a7d97-7424-4973-b2f1-173b5b25ced8
delete from cost_line_item where id in ('e9fb2260-08df-48d0-8b74-838b3d38c43e', 'b7052161-9e8d-43da-abf0-58ef62a18f51', 'a90ed581-1d41-4598-a353-9774ded239cd', '9022979d-b051-4bcf-bd3b-e928a7b6c68d', '7f4f8b57-e4e2-4e9e-8a31-bd135d61fea4', '65b36196-8b9b-46d4-8e44-f338b2220dd4', '629010f4-5bd9-4d16-b287-9e471f85b75d', '58b4d19f-ba55-45a3-aeee-e62dc932e639', '36c0dd3c-cecb-4b5f-be78-652e701f1be1', '2aa613a2-0e3d-47c6-aca5-8907ea9bbd4c', '6bc93a52-f531-4b40-b8d2-ff96aec27c6d', 'cfa8105c-6270-497f-85ec-c62c67350e27', 'cfe64fef-f428-410e-b744-2fedfe6a2334', 'e2ae1883-c28e-4d0b-92c9-6fd2b81c9fd1', '63ac5e00-9c60-435f-b3f6-7587eaa079fe', 'ab97ad55-5ace-4194-9e66-563982e8f5f6', '66a331f1-751b-4fa2-ba9b-a56324839b66', '66a0c065-a56e-4d8f-acd1-739eff8327d1', '65b9578b-2f2d-4e58-ab31-0e037b93a633', '63ca8720-fcb1-4091-9da9-06fe18fe3799', '58491c42-9740-4fbf-8eb6-612e1b8effb4', '57bf71eb-5cbf-4f67-bb59-36b87bc7c7f6', '3482b10c-54e2-48d5-8ebd-6c6320131eb3', '1b8b15a5-2a1c-4566-8ada-55c9250e094b', '000b7cce-51eb-43e7-926c-bf31cbfdeba1');
--End #2 - Update revision: b56a7d97-7424-4973-b2f1-173b5b25ced8
-----------------------------------------------------------------------------------------------------------


--End #2 - Update cost: PRO0004746V0001


-----------------------------------------------------------------------------------------------------------


--#3 -Start update PRO0004056S0002 - Reindex cost Id: a2ae1cc0-4f23-46db-8f98-db815cb19fa1
--#0 -Start update Revision: 4b78d48a-6921-4c4b-81a8-f36c868b6982
delete from cost_line_item where id in ('8f9161e4-1364-4cc6-941e-08bcf393d444', '94412f03-1273-4399-a525-928f746a8ed4', '0b3a1a59-1517-4bad-aa29-2b4d06de50ee', '38fa601d-e161-485f-a7d2-e2d6552f5ed4', '61a0e008-d57c-4093-bd47-bca221aebc85', '6c33ec0c-f43e-401f-8155-187f22d447f8', '76d434b6-8905-459b-87b1-c4f5f84a46ad', '84d7b08b-5cbd-47aa-9489-3eace3576a04', 'b8a9e002-8541-4b06-9484-ec1b8d3231d0');

update cost_stage_revision_payment_total
set
    line_item_full_cost = 1841.79700,
    line_item_remaining_cost = 0,
    line_item_total_calculated_value = 0.000000
where
    cost_stage_revision_id = '4b78d48a-6921-4c4b-81a8-f36c868b6982'
    and line_item_total_type = 'CostTotal'
    and stage_name = 'OriginalEstimate';

update cost_stage_revision_payment_total
set
    line_item_full_cost = 1841.79700,
    line_item_remaining_cost = 0,
    line_item_total_calculated_value = 1841.79700000
where
    cost_stage_revision_id = '4b78d48a-6921-4c4b-81a8-f36c868b6982'
    and line_item_total_type = 'CostTotal'
    and stage_name = 'FinalActual';

update custom_object_data
set
    data = '{"totalCostAmount":1841.79700,"productionType":"Post Production Only","isAIPE":false,"contentType":"Photography","budgetRegion":"GREATER CHINA AREA","costType":"Production","costStages":"OriginalEstimate","directPaymentVendorId":null,"productionCost":0.0,"insuranceCost":0.0,"technicalFeeCost":0.0,"talentFeeCost":0.0,"postProductionCost":1746.20200,"otherCost":95.59500,"targetBudgetTotalCost":0.0,"totalCost":1841.79700,"stageTotals":{"totalCostAmountTotal":1841.79700,"productionCostTotal":0.0,"insuranceCostTotal":0.0,"technicalFeeCostTotal":0.0,"talentFeeCostTotal":0.0,"postProductionCostTotal":1746.20200,"targetBudgetTotal":0.0,"otherCostTotal":95.59500},"costCarryOverAmount":0.0}'
where
    object_id = '4b78d48a-6921-4c4b-81a8-f36c868b6982' and name = 'PaymentRuleInput';
--End #3 - Update cost: PRO0004056S0002


-----------------------------------------------------------------------------------------------------------


--#4 -Start update PRO0003141V0001 - Reindex cost Id: a44afb70-6b9e-42d3-a1fc-2e741de0e566
--#0 -Start update Revision: a9e5ba4d-24b2-4c73-a3a2-c2399e16488d
delete from cost_line_item where id in ('0a1fd91a-c0bf-4a60-8720-019d87303997', '3875c99a-92ce-4036-a954-c17a79f9ed68', 'a4dc841b-f95c-4a6b-ac4a-3d7e97d8455d', 'b09b8909-c397-4f37-ae3f-951d4fe9ee74', 'fe9d98bc-a1bb-46d6-a9d7-fdcf6457cba6', 'ef2ed353-c7f2-4559-8174-07589f3b6609', 'e75f093b-bb67-4c8e-88c1-7b40c4e96761', 'e4982967-081c-4587-a2b2-6fd59def7fcb', 'dca2f73c-295a-42e3-944b-b38937d89e12', 'd6c26a63-cb65-4c1d-bc25-3b48f8112eaf', 'd5901891-76ff-43c6-a924-b7e81a66c4e2', 'cda65ff4-d354-451e-ac72-578984b27be7', 'c61d8693-ecf5-4d5a-85be-eadc8bb7e360', 'c28a5875-976f-466d-acd6-6701f6fc2d1d', 'b0fa9204-e6ad-419a-b8da-ec4a1f0e776a', 'a27c2c65-e689-449f-901a-a6f55d315739', '9b09e8ce-bc07-4442-8dc1-7d74d8b02e47', '995376cc-92b4-4e3f-88dc-cc2e23579006', '81db9221-4a80-4185-a1ce-3f96be51089a', '77b11557-62d7-4357-9cc8-550320a878d2', '6b3aaf0d-817f-43aa-b0e8-434f257d66ca', '4de30287-5634-4d14-8225-65cce8257a2d', '498d02c9-9e10-4b5a-bd08-c820b5efdb12', '3f2c8c26-3268-4ad3-b972-3e88d66a84a1',
'321c54a5-6bff-43e3-acb1-cface7f8d438', '17ab46d6-3b43-4e29-b7fc-b52ed71484a0', 'e36a09a0-53dd-45cc-96b5-09afea12c338', 'c963f85f-0eaa-47a7-ad5c-158a2ffbbaf2', 'fa26c2ab-c7e6-4cad-bc03-c101c767177b', '19b33ba7-c671-4bb3-8b2e-92e9c563c367', 'b64c2c9c-4336-4de5-9938-4a4dfd691534', '76880c53-7e1c-4b00-9222-1999ac45092f', '625cc57c-ebd2-4de8-b08e-a0628f9036db', '261f7403-0c3d-4932-afc3-34e87da954d4', '59a48925-c234-4cb3-ad56-e2412b6ec435', 'f56def5c-8b36-421b-929f-6d2a9622a4c4', 'a9ee2815-e145-4e4e-81b0-15f5bbcfc19e', 'f45fc769-5c83-4e3c-8c43-a5156bab4a3e', 'ef4190da-c497-4a1e-9782-6b3623a492ae', '2b0287f2-3f82-4108-a7d6-18a81dd668f7', '019e82d3-864b-432e-ac17-b3ac9571483a', 'ab5f6e88-e7d1-44df-bc2c-eb3a617f4c56', '430f038a-9de3-46c2-b95e-066f37c6fef8', '38f95346-76a8-4fae-9874-71cede5729ab', 'f8d8c0f0-fe5c-4208-b8b9-8b141297b26c', 'f2863858-7b9c-4bc1-9a75-73998b79ba5a', 'f10d76e3-9197-404f-b5b1-6385e064cee8', 'f035a930-77b5-473e-8805-3b693daeec4f', 'e92366f2-6c3a-4f88-ad39-76c97a46fcf0', 'db9663ba-79e5-4d8c-9787-c6bf487b382c');
--End #0 - Update revision: a9e5ba4d-24b2-4c73-a3a2-c2399e16488d
-----------------------------------------------------------------------------------------------------------


--End #4 - Update cost: PRO0003141V0001


-----------------------------------------------------------------------------------------------------------


--#5 -Start update PRO0004141V0001 - Reindex cost Id: aad546ed-be63-43d8-9849-355779753372
--#0 -Start update Revision: 7cc16df8-842e-42a9-9f0e-30662e0b4ddd
delete from cost_line_item where id in ('f4d85403-ad3b-4a50-8c0e-a88e6df6038c', 'da9dad13-42c9-4b73-996b-956c63ab4c50', 'c5830daa-17d3-45b0-994a-322d4716b651', '2e137035-556d-4a8a-8069-a616b1925b17', '0cdadd12-0eff-4fd3-9077-f57ae50d6792', 'fb8f5dda-479c-49dc-b020-8f46419025a5', '23469f0b-da84-4b41-93b3-77767335975d', '96de15aa-c3f0-475c-a60d-e1ae6401147c', '936d1daa-00e2-4f69-b446-378f4ba7d7df', '5f2c7207-b9c7-4570-8616-29f36359e41b', 'b1b8eb3c-2477-434c-997d-a3ce7d45995c', 'fffb102d-35bc-41ce-a07a-b3f73f1a184f', 'a38da2cd-2f27-4bd9-ad59-c56bd3cb8842');
--End #0 - Update revision: 7cc16df8-842e-42a9-9f0e-30662e0b4ddd
-----------------------------------------------------------------------------------------------------------


--#1 -Start update Revision: 9da76764-4d62-4496-aa47-d001934fccc7
delete from cost_line_item where id in ('1a74d776-80ed-46bc-9eda-4ec6c7ed4c36', 'f218cf5e-7166-43c4-928d-43af959d76c0', 'c49f9e9d-7aa9-47b1-9011-0c6d18ff9da6', 'c7d1dc68-7beb-4ed3-b924-ef6ee10410a4', 'ddadd752-c1fe-47ac-bcb2-e611fd9d7f87', 'ab79a5b7-a8c0-4041-aa10-a166b5df0020', '77544fb8-523f-4358-8435-ee7e51f4cfc0', '500fe541-0c5b-4192-a1ad-cb4b73caf10a', '6f57fc18-099e-464f-bcd9-9c0e0a9f5bcd', '8a69f6f1-b528-4e95-b67c-efe26b0c5a77', 'b8f58db5-9fe6-4f59-a989-c17710b1c4cd', '0356e827-39b0-462a-bea8-b21c4bbc75ad', '4ce2dcb9-6c06-46ee-877b-637967e8dbfa');

update cost_stage_revision_payment_total
set
    line_item_full_cost = 15777.75084,
    line_item_remaining_cost = 0,
    line_item_total_calculated_value = 0
where
    cost_stage_revision_id = '9da76764-4d62-4496-aa47-d001934fccc7'
    and line_item_total_type = 'CostTotal'
    and stage_name = 'OriginalEstimate';

update cost_stage_revision_payment_total
set
    line_item_full_cost = 15777.75084,
    line_item_remaining_cost = 0,
    line_item_total_calculated_value = 15777.75084
where
    cost_stage_revision_id = '9da76764-4d62-4496-aa47-d001934fccc7'
    and line_item_total_type = 'CostTotal'
    and stage_name = 'FinalActual';

update custom_object_data
set
    data = '{"totalCostAmount":15777.75084,"productionType":"Post Production Only","isAIPE":false,"contentType":"Video","budgetRegion":"EUROPE AREA","costType":"Production","costStages":"OriginalEstimate","directPaymentVendorId":null,"productionCost":0.0,"insuranceCost":0.0,"technicalFeeCost":146.78764,"talentFeeCost":0.0,"postProductionCost":15630.9632,"otherCost":0.00,"targetBudgetTotalCost":0.0,"totalCost":15777.75084,"stageTotals":{"totalCostAmountTotal":15777.75084,"productionCostTotal":0.0,"insuranceCostTotal":0.0,"technicalFeeCostTotal":146.78764,"talentFeeCostTotal":0.0,"postProductionCostTotal":15630.9632,"targetBudgetTotal":0.0,"otherCostTotal":0.00},"costCarryOverAmount":0.0}'
where
    object_id = '9da76764-4d62-4496-aa47-d001934fccc7' and name = 'PaymentRuleInput';
--End #5 - Update cost: PRO0004141V0001


-----------------------------------------------------------------------------------------------------------


--#6 -Start update PRO0003830U0001 - Reindex cost Id: dc76fa3a-7e2b-4715-9c3c-6c0a7d9a39b7
--#0 -Start update Revision: cd246901-3adb-46f7-a1db-088d738a9007
delete from cost_line_item where id in ('c726133b-09cb-422a-a987-fe557d845c88', '84ec1ec1-1dc5-4e3f-869a-04c8f0981c0b', 'e66f10c0-8d71-43f2-96b1-7b4598cac5e6', 'af0eaa55-6639-4c51-a502-b88f13c398a3', 'f1a7a603-6526-4812-9e71-a46755936914', 'e30b8023-b5c1-434d-bb80-e0b509f2af09', '62625531-b5a1-46bf-ad60-9f874a9ef444', '008ebb4a-87e2-482e-bc51-3cd4921580f2');
--End #0 - Update revision: cd246901-3adb-46f7-a1db-088d738a9007
-----------------------------------------------------------------------------------------------------------


--#0 -Start update Revision: 4e15dcff-a8e6-4b0a-9fe5-08b0cbe03872
delete from cost_line_item where id in ('06218a6d-5513-4ed3-9477-e8360aaebe27', '2988e8b6-14a2-419f-8264-a1e2365475b5', 'df501e80-7185-4d05-9ad6-d8b5331490df', '8c5e6a6e-2912-4509-89ad-875eb77af238', '757a2346-e535-4f53-b6b3-0e37de8e3913', '475db6d0-4647-4a4f-be3f-e055586f9b56', '83c78c5c-9cc2-480b-afe3-a561c268a8d4', '298fd27a-bf4f-49f8-a1f3-16d400e64d7b');
--End #0 - Update revision: 4e15dcff-a8e6-4b0a-9fe5-08b0cbe03872
-----------------------------------------------------------------------------------------------------------


--#1 -Start update Revision: 5c7ae9cd-9215-4c45-b4cf-75fcbf615527
delete from cost_line_item where id in ('fa45e05c-eed3-4e18-9dbf-b3d30cad7293', '8bee5160-9631-4b54-a558-ce7112c4392e', 'a4e87e91-041e-4d95-92bf-0f62a8502cfd', 'd24d3b97-c7e1-4959-89b1-73305d945b95', '2733a8ad-57bc-446b-9014-7793ba15bb08', 'da617411-6b4e-467b-8d24-a9fe25b334fc', '72f4a1cd-03e8-4312-a06b-18ea2183aa47', 'a4d7b668-4662-40c6-b4e4-b90b945f48d0');
--End #1 - Update revision: 5c7ae9cd-9215-4c45-b4cf-75fcbf615527
-----------------------------------------------------------------------------------------------------------


--#2 -Start update Revision: bf34956e-6396-4c21-8e90-231c5c41cf8b
delete from cost_line_item where id in ('3141ff7d-ca42-4686-8828-8ac11f6fab91', '3683b466-5805-48f9-bfe4-81e89e2a0dc1', '7588d86c-8fd1-4a7a-b769-ebc37004c313', '0da7ffbe-4e31-409e-bf07-58beb1e65fd7', 'eefc8438-56c0-40fd-a48d-1140053d0e04', 'a2b80e17-5e21-44ce-92be-4364c66d0ddd', '3f6dca27-55b8-4293-b5ea-b040b0c7a385', 'cc0310f5-5766-4702-b1d3-94f1acc4f93b');

update cost_stage_revision_payment_total
set
    line_item_full_cost = 40730.9,
    line_item_remaining_cost = 0,
    line_item_total_calculated_value = 0.00
where
    cost_stage_revision_id = 'bf34956e-6396-4c21-8e90-231c5c41cf8b'
    and line_item_total_type = 'CostTotal'
    and stage_name = 'OriginalEstimate';

update cost_stage_revision_payment_total
set
    line_item_full_cost = 40730.9,
    line_item_remaining_cost = 0,
    line_item_total_calculated_value = 40730.9000
where
    cost_stage_revision_id = 'bf34956e-6396-4c21-8e90-231c5c41cf8b'
    and line_item_total_type = 'CostTotal'
    and stage_name = 'FinalActual';

update custom_object_data
set
    data = '{"totalCostAmount":40730.9,"productionType":null,"isAIPE":false,"contentType":null,"budgetRegion":"NORTHERN AMERICA AREA","costType":"Buyout","costStages":"OriginalEstimate","directPaymentVendorId":null,"productionCost":0.0,"insuranceCost":0.0,"technicalFeeCost":0.0,"talentFeeCost":0.0,"postProductionCost":0.0,"otherCost":40730.9,"targetBudgetTotalCost":0.0,"totalCost":40730.9,"stageTotals":{"totalCostAmountTotal":40730.9,"productionCostTotal":0.0,"insuranceCostTotal":0.0,"technicalFeeCostTotal":0.0,"talentFeeCostTotal":0.0,"postProductionCostTotal":0.0,"targetBudgetTotal":0.0,"otherCostTotal":40730.9},"costCarryOverAmount":0.0}'
where
    object_id = 'bf34956e-6396-4c21-8e90-231c5c41cf8b' and name = 'PaymentRuleInput';
--End #6 - Update cost: PRO0003830U0001


-----------------------------------------------------------------------------------------------------------


--#7 -Start update PRO0143V0000015 - Reindex cost Id: e98f6153-4902-4863-8104-217f8bdebc23
--#0 -Start update Revision: 8fe64e3d-c4e7-4273-808b-50425c3a8265
delete from cost_line_item where id in ('3561a5ad-5a7e-4721-b54f-cd94297ca122', '8b655575-528b-4e4b-9ab7-da96001ab9a4', 'f797338c-bd7f-456f-9c26-70df19c613d0', '64d22f01-368a-4efb-bdb3-6ef6e1fdf0f3', 'fca76e50-cc57-4e22-96da-d206655221cf', '68b2ee6d-82d1-4da8-b2f8-298772e7486b', 'e19cce4d-ba39-4c0a-b92f-611fd6ff4aef', 'c5416e56-5546-4ea0-83d6-3146eef2fa76', 'a5afe4b5-15f8-4da7-b4b9-cdfff9e739ac', '78bbe2c4-4b23-4399-98af-c5a5d71b8e2b', 'cf9d3aae-f156-4271-98ab-514646363dc2', '2807767d-9519-4435-a4b1-f06a5b0701f0', 'c014ed9a-c424-4ad2-a081-c381b437b7a1', '94deca3c-918f-4fd3-b85e-89e5bbea8f0c', 'f226e114-94d2-48c1-bf16-8f8ebf9a46d5', '7bc8134a-59ee-4c82-be8a-c048c76afdc5', '29281490-0210-4929-b33f-affbcd41d8be', 'c1c8dad7-7b03-42ff-a9a9-c9e16ca2d463', '35eb438d-bde1-438e-8f67-fc33cbb04152', 'de04a6ab-f4ca-4d28-bce2-e95f97698460', '3068ca4e-e049-41c6-9419-a5da85e2b687', '7a3aeb77-bb1b-46b0-8e12-c48411283c77', 'e5f0eae6-7b10-4f47-8a8c-c91d2ef260c7', '775b4c56-535f-4306-b850-024292945152',
'a5929332-4d95-4824-aa3c-1c42d307ca10', '62d71e58-3cac-4393-9ff6-3a7655a0f2e2', '34dc4a5f-797d-450a-89cc-ba35c9dd2af7', '9925ce1e-0089-4873-9f34-ffa57a304353', '7d1a523a-751f-479a-94e7-51abffb65b4d', 'a2663df8-de8b-4403-825c-df2a55f083f5', 'c9186089-feda-4b1c-9633-51bd4d579c9c', '7e225840-0e0d-4286-8eec-5da85e3a306a', 'd5eff465-050e-48e7-8b97-85c554fa7226', 'a438a7ca-6427-4cfa-ac1a-41ed856d0897', '6fbcc4c6-ee22-4b20-a609-4887f3db19f2', '75e43fd2-dcc6-4f6b-8336-a9860d6b74b3', '8ae68c91-00af-41e1-a5a0-4590a854b3c2', 'da46052b-cc93-4a72-b294-deef45accfd9', 'd9e7d987-f534-4a55-889f-2151298a152a', '0feb0be5-cab9-467a-9f09-bc26ea68fa09', '9354d8b2-10f6-401a-b24c-f83d775f921e', '1bd06f0e-a9c7-4e1c-b16b-4d7ccbb7835b', 'e1d5d299-fe57-401c-a3d3-88329e7e9774', 'b98bd720-5f6b-4abb-bbfb-2057b0e6c134', 'ab4401aa-3668-49ac-9aca-417f07c89bf4', 'a62c81ae-7cc5-4ff1-ac95-cd9b084cd9e3', '9298deac-b2e0-4adb-82f5-ced473deb8fa', '905c0c26-bc5b-4578-bbfd-1dccce74e43e', '8f30b408-071f-44c9-8c67-09e8e2fbb6f4', '74cf64e8-d692-4c99-aa85-f706d61ce9ac', '5f3e6827-9c66-4a22-8209-dd53d779ec60', '3f1185da-26b6-4a96-a55e-4c9c1c73ab82', '2a40c100-ca74-4e63-8b5c-7db54080177f', '063b322d-17b3-4463-a302-98602f1a7ce5', '02cdd82b-40fb-4487-932b-748559e17b9b', '5ebf8a17-1d72-4aea-a145-55bcfed07036', '33e94a17-00fd-485d-8400-1989edd6f640', 'e0cb79ce-0949-4b58-b55a-a751a06f6785', '9eba8755-a02b-4453-a9f0-105f65465e5d', 'c11e5906-1544-4822-95b1-93039d569239', '94f32534-df59-4902-b7c1-f10c87e06f10', '00c08930-c288-4281-a47b-5487f007248b', 'a450ff43-b279-4205-ae58-280c497fafad', '5d539751-3a5b-43bd-a54c-8524594f2284', 'd0fd2d7b-8fc4-4741-9327-cc7d6c5a9b0b');
--End #0 - Update revision: 8fe64e3d-c4e7-4273-808b-50425c3a8265
-----------------------------------------------------------------------------------------------------------


--#0 -Start update Revision: cc2682ba-d173-4ab1-8384-9f2a4a07d976
delete from cost_line_item where id in ('7461d970-1d14-431b-8d22-d6a2e41b90db', 'a1f1e409-4dd2-4641-8bb6-1f76284bb787', '7c2e77e1-cc53-4398-a267-7625414afe54', '7506cab4-b7e2-4a96-86b5-a513ddac9c02', '27b81890-18d3-4844-a7cc-a25e2f812521', 'f383947f-5ac4-43f9-90fe-f0badb2a3df9', 'de6a891f-3f28-4fd8-83f6-9c6c7c08f579', 'c6e68deb-fa0f-47d3-a457-98fe73516efd', 'ab09a5ae-7b02-4cb1-b43a-a45ba7fdb4ca', '7bdf50d0-74ba-407e-8765-4a3e72efa7dd', '4f9cdc48-48d6-46bd-a1da-a54f340fa597', '44fefade-5bcd-41bc-862a-68925044d805', '269e5d20-adf1-4745-8376-6c58628411d9', '254a0625-6a18-464a-9e22-fa3715ff350e', '15ceb7dc-5df3-4893-8f85-662c0f0a88d7', '11ea63da-a84b-465c-adb1-7e701251f0c0', '08a84e1d-57ab-443b-9ce8-02b2894744d3', 'cc294e38-5aa2-4eae-9ffb-8b97365013ad', '91dcd449-e30f-416c-aff8-deea3e8016de', '18c24279-42f8-490f-be86-a78961ef1477', '2e64613b-469c-40fc-ba82-a7aad09dbf94', '4deefe05-c181-48f7-a7f4-374b42f8c0d8', '2f8d6b2e-d033-4b57-9399-8d95a34a8d6d', '8f29c1b5-6bc1-4e62-87c9-348d5be9af42',
'2fc1b78c-c931-4e86-9459-1ce05b2d76c0', '0939c338-de46-4e24-b1d0-58db1653e671', '991fcb47-68c8-4765-bd16-ef8abfadb790', '7b79565b-0d55-492e-901a-55f1d5b3e785', 'cb09eb7a-b464-4383-8038-5173e08d4ddc', '647ab51c-765b-422a-b782-008bcc921a98', '0f9c950f-1365-46cd-89e2-9bbbd5be1d31', '7d597a09-ee75-4090-8e16-95573b7b375c', '12f476d8-7532-42f8-9c80-850404a620b4', '0080166a-0cb0-41ad-9748-21a706c78916', '94d29edb-ac6d-418b-bf36-193c8d71a82d', '117038d9-debe-4ef3-b35a-d28590a0ed7c', '1d518c07-bce7-42d0-9882-42979d813950', 'f6e68d39-f98d-4fe0-9bcb-47484ee23323', 'e47fa904-299c-46ac-8517-4332e956eaff', '4cad53df-368d-4999-b533-2cf15a14ba7c', 'd3c56430-655d-4113-bfa2-19ebfbcab0f7', '9d364b6d-26a1-443d-941c-6721bc94ca2e', 'e42395ee-0699-4f11-abfd-9c333638346f', '8106a963-8187-4d09-91d3-971429325d25', '64d86905-36b9-4875-83cd-77aa8da97425', '97f5d4b1-7072-40ec-9336-c7e86ffc2c95', 'da3495d4-b486-48c6-9790-4dd3ed0aef63', 'e30851ed-5f13-4583-9563-36deea09ebfb', '54f6d516-9a35-4c5e-a9d5-10c692db2ad8', 'cb610785-4c4b-4600-b2ff-c953499992fd', '847f37d1-2107-45ce-bb7b-b798dfaafe33', '887baec0-ff1f-4aff-820f-dc5dbcf62806', '53340d36-b88a-47ae-ab60-763a48bacb2a', '51d7e261-b3a2-4849-bafa-92292595ff43', 'a7a3a3ac-d561-4a68-a359-abca4096cea7', '9ca1c285-321d-4746-880f-e2c1bc185cfb', '87ea110c-7916-4344-a2fa-4d151ff3c277', '48279761-6a14-4ceb-851d-db19bdd5051d', '2e9a1ea9-a144-40fb-a096-6532cc202455', '7ad35ead-a684-48a2-8a13-4a0642f4d9f7', '4ab6a835-4558-4b89-ae23-eb718b202140', '1e14043a-f608-4d06-857f-9c24bf98ebe2', '422d60fb-b9d0-42bf-9ce4-6e6eb127d60b', 'e4e3aa2a-6c88-4da8-8c09-d6ca390874f4', '8ee3ac3b-db79-4f55-9e5e-e9c5444fb6bf');

update cost_stage_revision_payment_total
set
    line_item_full_cost = 9900,
    line_item_remaining_cost = 0,
    line_item_total_calculated_value = 0.0
where
    cost_stage_revision_id = 'cc2682ba-d173-4ab1-8384-9f2a4a07d976'
    and line_item_total_type = 'CostTotal'
    and stage_name = 'OriginalEstimate';

update cost_stage_revision_payment_total
set
    line_item_full_cost = 9900,
    line_item_remaining_cost = 0,
    line_item_total_calculated_value = 9900.000
where
    cost_stage_revision_id = 'cc2682ba-d173-4ab1-8384-9f2a4a07d976'
    and line_item_total_type = 'CostTotal'
    and stage_name = 'FinalActual';

update custom_object_data
set
    data = '{"totalCostAmount":9900.0,"productionType":"CGI/Animation","isAIPE":false,"contentType":"Video","budgetRegion":"NORTHERN AMERICA AREA","costType":"Production","costStages":"OriginalEstimate","directPaymentVendorId":null,"productionCost":0.0,"insuranceCost":0.0,"technicalFeeCost":0.0,"talentFeeCost":0.0,"postProductionCost":9900.0,"otherCost":0.0,"targetBudgetTotalCost":0.0,"totalCost":9900.0,"stageTotals":{"totalCostAmountTotal":9900.0,"productionCostTotal":0.0,"insuranceCostTotal":0.0,"technicalFeeCostTotal":0.0,"talentFeeCostTotal":0.0,"postProductionCostTotal":9900.0,"targetBudgetTotal":0.0,"otherCostTotal":0.0},"costCarryOverAmount":0.0}'
where
    object_id = 'cc2682ba-d173-4ab1-8384-9f2a4a07d976' and name = 'PaymentRuleInput';
--End #7 - Update cost: PRO0143V0000015

   

   
   
--New wrong items in SPB-2687 - PRO0005231V0003 
--#0 -Correct Revision: 2903a8c2-371b-489d-ab8d-2296ed310661
delete from cost_line_item where id in ('c00cf37f-5b66-4ff7-aefe-18699a4ba2d2', '5e31c596-25bb-447b-8101-a8e6f7e63af5', '5bb2f30f-eb87-47b6-8d55-7136c44c48bd', 'b453a4e6-ba08-406a-a20e-0fb271d15f08', 'd1949439-8d15-4af6-a617-93ff13dfdd39', '81a434f1-4b86-4f5e-85ed-539cea35a57a', '6ff3339a-ec1c-48be-a000-4059a59818ae', '2d40c232-d6a2-4e77-92e2-481a4df6cc76', '504e2229-45d6-4c3e-9bc5-0306b1bb2da1', 'aec435ac-62b2-4bda-abf8-aeb6c4c7910e', 'c265176f-6599-48bf-8867-bad9f4fd893e', 'd56e57fe-a91a-4873-b847-c692a4b0ddd6', 'b2d01b8c-a887-4bf1-a921-dd39fab013d4');

update cost_stage_revision_payment_total
set
    line_item_full_cost = 4394.547,
    line_item_remaining_cost = 0,
    line_item_total_calculated_value = 0.0
where
    cost_stage_revision_id = '2903a8c2-371b-489d-ab8d-2296ed310661'
    and line_item_total_type = 'CostTotal'
    and stage_name = 'OriginalEstimate';

update cost_stage_revision_payment_total
set
    line_item_full_cost = 4394.547,
    line_item_remaining_cost = 0,
    line_item_total_calculated_value = 4394.547
where
    cost_stage_revision_id = '2903a8c2-371b-489d-ab8d-2296ed310661'
    and line_item_total_type = 'CostTotal'
    and stage_name = 'FinalActual';

update custom_object_data
set
    data = '{"isAIPE": false, "costType": "Production", "otherCost": 0.000, "totalCost": 4394.547, "costStages": "OriginalEstimate", "contentType": "Video", "stageTotals": {"otherCostTotal": 0.000, "targetBudgetTotal": 0.0, "insuranceCostTotal": 0.0, "talentFeeCostTotal": 0.0, "productionCostTotal": 0.0, "totalCostAmountTotal": 4394.547, "technicalFeeCostTotal": 0.0, "postProductionCostTotal": 4394.547}, "budgetRegion": "EUROPE AREA", "insuranceCost": 0.0, "talentFeeCost": 0.0, "productionCost": 0.0, "productionType": "Post Production Only", "totalCostAmount": 4394.547, "technicalFeeCost": 0.0, "postProductionCost": 4394.547, "costCarryOverAmount": 0.0, "directPaymentVendorId": null, "targetBudgetTotalCost": 0.0}'
where
    object_id = '2903a8c2-371b-489d-ab8d-2296ed310661' and name = 'PaymentRuleInput';
--End #8 - Update cost: PRO0005231V0003 

   
--New wrong items in SPB-2687 - PRO0005231V0003 
--#0 -Correct Revision: 7af90828-be24-46f9-a603-da9df2dccb25
--Note: until 15 Jan, this revision hasn't had any payment yet
delete from cost_line_item where id in ('6db25153-a584-4f89-b4a2-2b06e6f7050d', '752a92f5-a0d4-462f-adee-719866979358', '72ad0ed7-feeb-44ed-8a06-f0d81d7dc834', '100265b9-6e23-4878-8155-754786c76df2', '5d61bbff-87ff-4b5d-b812-44980aa0a8b8', '0bf45ecb-0b0a-47e1-a26b-d9e22c09aa6b', 'fd29f62d-caa6-4b72-a573-68d0d9be696a', '87fc4006-731a-4d58-9054-6a0379a321d4', '97637cca-c81c-4760-b45d-0ead1cfc08b7', 'ffd37f30-9804-491f-8fc6-b461c693f684', '8b46af6d-641c-49a9-ad66-a44a81a5474f', 'f129877a-8854-400c-bb79-0fbed82fdb61', '063a6012-f7cf-4240-82b2-97301bf0e2e3');

update custom_object_data
set
    data = '{"isAIPE": false, "costType": "Production", "otherCost": 0.000, "totalCost": 4394.547, "costStages": "OriginalEstimate", "contentType": "Video", "stageTotals": {"otherCostTotal": 0.000, "targetBudgetTotal": 0.0, "insuranceCostTotal": 0.0, "talentFeeCostTotal": 0.0, "productionCostTotal": 0.0, "totalCostAmountTotal": 4394.547, "technicalFeeCostTotal": 0.0, "postProductionCostTotal": 4394.547}, "budgetRegion": "EUROPE AREA", "insuranceCost": 0.0, "talentFeeCost": 0.0, "productionCost": 0.0, "productionType": "Post Production Only", "totalCostAmount": 4394.547, "technicalFeeCost": 0.0, "postProductionCost": 4394.547, "costCarryOverAmount": 0.0, "directPaymentVendorId": null, "targetBudgetTotalCost": 0.0}'
where
    object_id = '7af90828-be24-46f9-a603-da9df2dccb25' and name = 'PaymentRuleInput';
--End #7 - Update cost: PRO0005231V0003 


-----------------------------------------------------------------------------------------------------------

---------------- ALL DONE ----------------
ALTER TABLE cost_line_item DROP CONSTRAINT IF EXISTS cost_line_item_uq_csrid_templateid_name;
ALTER TABLE cost_line_item ADD CONSTRAINT cost_line_item_uq_csrid_templateid_name UNIQUE (cost_stage_revision_id, template_section_id, "name");